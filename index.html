<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>snarky-smt</title><meta name="description" content="Documentation for snarky-smt"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">snarky-smt</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>snarky-smt </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#snarky-smt" id="snarky-smt" style="color: inherit; text-decoration: none;">
  <h1>snarky-smt</h1>
</a>
<p><img src="https://img.shields.io/npm/v/snarky-smt" alt="npm">
<img src="https://img.shields.io/node/v/snarky-smt" alt="node-current">
<img src="https://img.shields.io/librariesio/release/npm/snarky-smt" alt="Libraries.io dependency status for latest release">
<img src="https://img.shields.io/npm/dm/snarky-smt" alt="npm"></p>
<p>Sparse Merkle Tree for SnarkyJs (membership / non-membership merkle proof).</p>
<p>The library contains implementations of sparse merkle tree, merkle tree and compact merkle tree based on snarkyjs, which you can use in the browser or node.js, and provides a corresponding set of verifiable utility methods that can be run in circuits.</p>
<p><strong>Notice</strong>: Versions starting from 0.5.0 have a breaking update to the api and are not compatible with previous versions</p>
<p>This article gives a brief introduction to SMT: <a href="https://medium.com/@kelvinfichter/whats-a-sparse-merkle-tree-acda70aeb837">Whats a sparse merkle tree</a></p>

<a href="#disclaimer-and-notes" id="disclaimer-and-notes" style="color: inherit; text-decoration: none;">
  <h2>Disclaimer and Notes</h2>
</a>
<p>The library hasn&#39;t been audited. The API and the format of the proof may be changed in the future as snarkyjs is updated.
Make sure you know what you are doing before using this library.</p>
<hr>

<a href="#table-of-contents" id="table-of-contents" style="color: inherit; text-decoration: none;">
  <h2>Table of Contents</h2>
</a>
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

<ul>
<li><a href="#install">Install</a><ul>
<li><a href="#1-install-module">1. Install module</a></li>
<li><a href="#2-install-peer-dependencies">2. Install peer dependencies</a></li>
</ul>
</li>
<li><a href="#what-can-you-do-with-this-library">What can you do with this library</a></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#create-a-merkle-tree-data-store">Create a merkle tree data store</a><ul>
<li><a href="#1-create-a-memory-store">1. Create a memory store</a></li>
<li><a href="#2-create-a-leveldb-store">2. Create a leveldb store</a></li>
<li><a href="#3-create-a-rocksdb-store">3. Create a rocksdb store</a></li>
<li><a href="#4-create-a-mongodb-store">4. Create a mongodb store</a></li>
</ul>
</li>
<li><a href="#use-merkletree-original-numindexsparsemerkletree">Use MerkleTree (original NumIndexSparseMerkleTree)</a></li>
<li><a href="#use-sparsemerkletree">Use SparseMerkleTree</a></li>
<li><a href="#use-compactsparsemerkletree">Use CompactSparseMerkleTree</a></li>
</ul>
</li>
<li><a href="#api-reference">API Reference</a></li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->


<a href="#install" id="install" style="color: inherit; text-decoration: none;">
  <h2>Install</h2>
</a>

<a href="#1-install-module" id="1-install-module" style="color: inherit; text-decoration: none;">
  <h3>1. Install module</h3>
</a>
<pre><code class="language-bash"><span class="hl-0">npm install snarky-smt</span>
</code></pre>
<p>or with yarn:</p>
<pre><code class="language-bash"><span class="hl-0">yarn add snarky-smt</span>
</code></pre>

<a href="#2-install-peer-dependencies" id="2-install-peer-dependencies" style="color: inherit; text-decoration: none;">
  <h3>2. Install peer dependencies</h3>
</a>
<pre><code class="language-bash"><span class="hl-0">npm install snarkyjs</span><br/><span class="hl-1"># yarn add snarkyjs</span>
</code></pre>
<p>If you need to use LevelDB to store data, you will also need to install:</p>
<pre><code class="language-bash"><span class="hl-0">npm install level</span><br/><span class="hl-1"># yarn add level</span>
</code></pre>
<p>RocksDB:</p>
<pre><code class="language-bash"><span class="hl-0">npm install rocksdb encoding-down levelup</span>
</code></pre>
<p>MongoDB:</p>
<pre><code class="language-bash"><span class="hl-0">npm install mongoose</span>
</code></pre>

<a href="#what-can-you-do-with-this-library" id="what-can-you-do-with-this-library" style="color: inherit; text-decoration: none;">
  <h2>What can you do with this library</h2>
</a>
<p>You can update the data of Sparse Merkle Tree(SMT) outside the circuit, and then verify the membership proof or non-membership proof of the data in the circuit. At the same time, you can also verify the correctness of the state transformation of SMT in the circuit, which makes us not need to update the SMT in the circuit, but also ensure the legal modification of SMT data outside the circuit. We can verify the validity of data modification through zkApp.</p>
<hr>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>

<a href="#create-a-merkle-tree-data-store" id="create-a-merkle-tree-data-store" style="color: inherit; text-decoration: none;">
  <h3>Create a merkle tree data store</h3>
</a>

<a href="#1-create-a-memory-store" id="1-create-a-memory-store" style="color: inherit; text-decoration: none;">
  <h4>1. Create a memory store</h4>
</a>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-3">MemoryStore</span><span class="hl-0">, </span><span class="hl-3">Store</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;snarky-smt&#39;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-3">Field</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;snarkyjs&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">// memory data store for Field type data, you can use any CircuitValue from snarkyjs or a custom composite CircuitValue</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">store</span><span class="hl-0">: </span><span class="hl-6">Store</span><span class="hl-0">&lt;</span><span class="hl-6">Field</span><span class="hl-0">&gt; = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">MemoryStore</span><span class="hl-0">&lt;</span><span class="hl-6">Field</span><span class="hl-0">&gt;();</span>
</code></pre>

<a href="#2-create-a-leveldb-store" id="2-create-a-leveldb-store" style="color: inherit; text-decoration: none;">
  <h4>2. Create a leveldb store</h4>
</a>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-3">Field</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;snarkyjs&#39;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-3">LevelStore</span><span class="hl-0">, </span><span class="hl-3">Store</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;snarky-smt&#39;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-3">Level</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;level&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">// create a leveldb data store for Field type data, you can use any CircuitValue from snarkyjs or a custom composite CircuitValue</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">levelDb</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">Level</span><span class="hl-0">&lt;</span><span class="hl-6">string</span><span class="hl-0">, </span><span class="hl-6">any</span><span class="hl-0">&gt;(</span><span class="hl-4">&#39;./db&#39;</span><span class="hl-0">);</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">store</span><span class="hl-0">: </span><span class="hl-6">Store</span><span class="hl-0">&lt;</span><span class="hl-6">Field</span><span class="hl-0">&gt; = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">LevelStore</span><span class="hl-0">&lt;</span><span class="hl-6">Field</span><span class="hl-0">&gt;(</span><span class="hl-3">levelDb</span><span class="hl-0">, </span><span class="hl-3">Field</span><span class="hl-0">, </span><span class="hl-4">&#39;test&#39;</span><span class="hl-0">);</span>
</code></pre>

<a href="#3-create-a-rocksdb-store" id="3-create-a-rocksdb-store" style="color: inherit; text-decoration: none;">
  <h4>3. Create a rocksdb store</h4>
</a>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-3">RocksStore</span><span class="hl-0">, </span><span class="hl-3">Store</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;snarky-smt&#39;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-3">Field</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;snarkyjs&#39;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> </span><span class="hl-3">encode</span><span class="hl-0"> </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;encoding-down&#39;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> </span><span class="hl-3">rocksdb</span><span class="hl-0"> </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;rocksdb&#39;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> </span><span class="hl-3">levelup</span><span class="hl-0"> </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;levelup&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">encoded</span><span class="hl-0"> = </span><span class="hl-7">encode</span><span class="hl-0">(</span><span class="hl-7">rocksdb</span><span class="hl-0">(</span><span class="hl-4">&#39;./rocksdb&#39;</span><span class="hl-0">));</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">db</span><span class="hl-0"> = </span><span class="hl-7">levelup</span><span class="hl-0">(</span><span class="hl-3">encoded</span><span class="hl-0">);</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">store</span><span class="hl-0">: </span><span class="hl-6">Store</span><span class="hl-0">&lt;</span><span class="hl-6">Field</span><span class="hl-0">&gt; = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">RocksStore</span><span class="hl-0">&lt;</span><span class="hl-6">Field</span><span class="hl-0">&gt;(</span><span class="hl-3">db</span><span class="hl-0">, </span><span class="hl-3">Field</span><span class="hl-0">, </span><span class="hl-4">&#39;test&#39;</span><span class="hl-0">);</span>
</code></pre>

<a href="#4-create-a-mongodb-store" id="4-create-a-mongodb-store" style="color: inherit; text-decoration: none;">
  <h4>4. Create a mongodb store</h4>
</a>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-0"> </span><span class="hl-3">mongoose</span><span class="hl-0"> </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;mongoose&#39;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-3">MongoStore</span><span class="hl-0">, </span><span class="hl-3">Store</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;snarky-smt&#39;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-3">Field</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-4">&#39;snarkyjs&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">mongoose</span><span class="hl-0">.</span><span class="hl-7">connect</span><span class="hl-0">(</span><span class="hl-4">&#39;mongodb://localhost/my_database&#39;</span><span class="hl-0">);</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">store</span><span class="hl-0">: </span><span class="hl-6">Store</span><span class="hl-0">&lt;</span><span class="hl-6">Field</span><span class="hl-0">&gt; = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">MongoStore</span><span class="hl-0">(</span><span class="hl-3">mongoose</span><span class="hl-0">.</span><span class="hl-3">connection</span><span class="hl-0">, </span><span class="hl-3">Field</span><span class="hl-0">, </span><span class="hl-4">&#39;test&#39;</span><span class="hl-0">);</span>
</code></pre>

<a href="#use-merkletree-original-numindexsparsemerkletree" id="use-merkletree-original-numindexsparsemerkletree" style="color: inherit; text-decoration: none;">
  <h3>Use MerkleTree (original NumIndexSparseMerkleTree)</h3>
</a>
<blockquote>
<p>MerkleTree is a merkle tree of numerically indexed data that can customize the tree height, this merkel tree is equivalent to a data structure: Map&lt;bigint,CircuitValue&gt;, CircuitValue can be a CircuitValue type in snarkyjs, such as Field, PublicKey, or a custom composite CircuitValue.
Tree height &lt;= 254, Numeric index &lt;= (2^height-1).</p>
</blockquote>
<p>MerkleTreeUtils: A collection of merkle tree utility methods that do not work in circuits.</p>
<p>ProvableMerkleTreeUtils: A collection of merkle tree utility methods that can be verified to work in circuits</p>
<p>An example of using MerkleTree in the mina smart contract, modified from the example in the <a href="https://github.com/o1-labs/snarkyjs">snarkyjs official repo</a>:
<a href="./src/examples/merkle_zkapp.ts"><strong>merkle_zkapp.ts</strong></a></p>
<pre><code class="language-typescript"><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-6">Account</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-6">CircuitValue</span><span class="hl-0"> {</span><br/><span class="hl-0">  @</span><span class="hl-3">prop</span><span class="hl-0"> </span><span class="hl-3">address</span><span class="hl-0">: </span><span class="hl-6">PublicKey</span><span class="hl-0">;</span><br/><span class="hl-0">  @</span><span class="hl-3">prop</span><span class="hl-0"> </span><span class="hl-3">balance</span><span class="hl-0">: </span><span class="hl-6">UInt64</span><span class="hl-0">;</span><br/><span class="hl-0">  @</span><span class="hl-3">prop</span><span class="hl-0"> </span><span class="hl-3">nonce</span><span class="hl-0">: </span><span class="hl-6">UInt32</span><span class="hl-0">;</span><br/><br/><span class="hl-0">  </span><span class="hl-5">constructor</span><span class="hl-0">(</span><span class="hl-3">address</span><span class="hl-0">: </span><span class="hl-6">PublicKey</span><span class="hl-0">, </span><span class="hl-3">balance</span><span class="hl-0">: </span><span class="hl-6">UInt64</span><span class="hl-0">, </span><span class="hl-3">nonce</span><span class="hl-0">: </span><span class="hl-6">UInt32</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-5">super</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-3">address</span><span class="hl-0"> = </span><span class="hl-3">address</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-3">balance</span><span class="hl-0"> = </span><span class="hl-3">balance</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-3">nonce</span><span class="hl-0"> = </span><span class="hl-3">nonce</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-1">// Create a memory store</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">store</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">MemoryStore</span><span class="hl-0">&lt;</span><span class="hl-6">Account</span><span class="hl-0">&gt;();</span><br/><span class="hl-1">// initialize a new Merkle Tree with height 8</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">tree</span><span class="hl-0"> = </span><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">MerkleTree</span><span class="hl-0">.</span><span class="hl-7">build</span><span class="hl-0">&lt;</span><span class="hl-6">Account</span><span class="hl-0">&gt;(</span><span class="hl-3">store</span><span class="hl-0">, </span><span class="hl-9">8</span><span class="hl-0">);</span><br/><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">testValue</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">Account</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">PrivateKey</span><span class="hl-0">.</span><span class="hl-7">random</span><span class="hl-0">().</span><span class="hl-7">toPublicKey</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-3">UInt64</span><span class="hl-0">.</span><span class="hl-7">fromNumber</span><span class="hl-0">(</span><span class="hl-9">100</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-3">UInt32</span><span class="hl-0">.</span><span class="hl-7">fromNumber</span><span class="hl-0">(</span><span class="hl-9">0</span><span class="hl-0">)</span><br/><span class="hl-0">);</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">root</span><span class="hl-0"> = </span><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">tree</span><span class="hl-0">.</span><span class="hl-7">update</span><span class="hl-0">(</span><span class="hl-9">0</span><span class="hl-5">n</span><span class="hl-0">, </span><span class="hl-3">testValue</span><span class="hl-0">);</span><br/><br/><span class="hl-1">// get value</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">v</span><span class="hl-0"> = </span><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">tree</span><span class="hl-0">.</span><span class="hl-7">get</span><span class="hl-0">(</span><span class="hl-9">0</span><span class="hl-5">n</span><span class="hl-0">);</span><br/><span class="hl-1">// support compact merkle proof</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">cproof</span><span class="hl-0"> = </span><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">tree</span><span class="hl-0">.</span><span class="hl-7">proveCompact</span><span class="hl-0">(</span><span class="hl-9">0</span><span class="hl-5">n</span><span class="hl-0">);</span><br/><span class="hl-1">// decompact NumIndexProof</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">proof</span><span class="hl-0"> = </span><span class="hl-3">MerkleTreeUtils</span><span class="hl-0">.</span><span class="hl-7">decompactMerkleProof</span><span class="hl-0">(</span><span class="hl-3">cproof</span><span class="hl-0">);</span><br/><span class="hl-1">// check membership outside the circuit</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">ok</span><span class="hl-0"> = </span><span class="hl-3">MerkleTreeUtils</span><span class="hl-0">.</span><span class="hl-7">checkMembership</span><span class="hl-0">(</span><span class="hl-3">proof</span><span class="hl-0">, </span><span class="hl-3">root</span><span class="hl-0">, </span><span class="hl-9">0</span><span class="hl-5">n</span><span class="hl-0">, </span><span class="hl-3">testValue</span><span class="hl-0">);</span><br/><br/><span class="hl-1">// check membership in the circuit</span><br/><span class="hl-3">ProvableMerkleTreeUtils</span><span class="hl-0">.</span><span class="hl-7">checkMembership</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">proof</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-3">root</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-7">Field</span><span class="hl-0">(</span><span class="hl-9">0</span><span class="hl-5">n</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-3">testValue</span><br/><span class="hl-0">).</span><span class="hl-7">assertTrue</span><span class="hl-0">();</span><br/><br/><span class="hl-3">testValue</span><span class="hl-0">.</span><span class="hl-3">nonce</span><span class="hl-0"> = </span><span class="hl-3">testValue</span><span class="hl-0">.</span><span class="hl-3">nonce</span><span class="hl-0">.</span><span class="hl-7">add</span><span class="hl-0">(</span><span class="hl-9">1</span><span class="hl-0">);</span><br/><span class="hl-1">// calculate new root in the circuit</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">newRoot</span><span class="hl-0"> = </span><span class="hl-3">ProvableMerkleTreeUtils</span><span class="hl-0">.</span><span class="hl-7">computeRoot</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">proof</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-7">Field</span><span class="hl-0">(</span><span class="hl-9">0</span><span class="hl-5">n</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-3">testValue</span><br/><span class="hl-0">);</span>
</code></pre>

<a href="#use-sparsemerkletree" id="use-sparsemerkletree" style="color: inherit; text-decoration: none;">
  <h3>Use SparseMerkleTree</h3>
</a>
<blockquote>
<p>SparseMerkleTree is a merkle tree with a fixed height of 254, this merkel tree is equivalent to a data structure: Map&lt;CircuitValue,CircuitValue&gt;, CircuitValue can be a CircuitValue type in snarkyjs, such as Field, PublicKey, or a custom composite CircuitValue.</p>
</blockquote>
<p>SMTUtils: A collection of sparse merkle tree utility methods that do not work in circuits.</p>
<p>ProvableSMTUtils: A collection of sparse merkle tree utility methods that can be verified to work in circuits</p>
<p>An example of using SparseMerkleTree in the mina smart contract, modified from the example in the <a href="https://github.com/o1-labs/snarkyjs">snarkyjs official repo</a>:
<a href="./src/examples/smt_zkapp.ts"><strong>smt_zkapp.ts</strong></a></p>
<pre><code class="language-typescript"><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-6">Account</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-6">CircuitValue</span><span class="hl-0"> {</span><br/><span class="hl-0">  @</span><span class="hl-3">prop</span><span class="hl-0"> </span><span class="hl-3">address</span><span class="hl-0">: </span><span class="hl-6">PublicKey</span><span class="hl-0">;</span><br/><span class="hl-0">  @</span><span class="hl-3">prop</span><span class="hl-0"> </span><span class="hl-3">balance</span><span class="hl-0">: </span><span class="hl-6">UInt64</span><span class="hl-0">;</span><br/><span class="hl-0">  @</span><span class="hl-3">prop</span><span class="hl-0"> </span><span class="hl-3">nonce</span><span class="hl-0">: </span><span class="hl-6">UInt32</span><span class="hl-0">;</span><br/><br/><span class="hl-0">  </span><span class="hl-5">constructor</span><span class="hl-0">(</span><span class="hl-3">address</span><span class="hl-0">: </span><span class="hl-6">PublicKey</span><span class="hl-0">, </span><span class="hl-3">balance</span><span class="hl-0">: </span><span class="hl-6">UInt64</span><span class="hl-0">, </span><span class="hl-3">nonce</span><span class="hl-0">: </span><span class="hl-6">UInt32</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-5">super</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-3">address</span><span class="hl-0"> = </span><span class="hl-3">address</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-3">balance</span><span class="hl-0"> = </span><span class="hl-3">balance</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-3">nonce</span><span class="hl-0"> = </span><span class="hl-3">nonce</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-1">// Create a memory store</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">store</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">MemoryStore</span><span class="hl-0">&lt;</span><span class="hl-6">Account</span><span class="hl-0">&gt;();</span><br/><span class="hl-1">// Or create a level db store:</span><br/><span class="hl-1">// const levelDb = new Level&lt;string, any&gt;(&#39;./db&#39;);</span><br/><span class="hl-1">// let store = new LevelStore&lt;Account&gt;(levelDb, Account, &#39;test&#39;);</span><br/><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">smt</span><span class="hl-0"> = </span><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">SparseMerkleTree</span><span class="hl-0">.</span><span class="hl-7">build</span><span class="hl-0">&lt;</span><span class="hl-6">Field</span><span class="hl-0">, </span><span class="hl-6">Account</span><span class="hl-0">&gt;(</span><span class="hl-3">store</span><span class="hl-0">);</span><br/><span class="hl-1">// Or import a tree by store</span><br/><span class="hl-1">// smt = await SparseMerkleTree.importTree&lt;Field, Account&gt;(store);</span><br/><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">testKey</span><span class="hl-0"> = </span><span class="hl-7">Field</span><span class="hl-0">(</span><span class="hl-9">1</span><span class="hl-0">);</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">testValue</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">Account</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">PrivateKey</span><span class="hl-0">.</span><span class="hl-7">random</span><span class="hl-0">().</span><span class="hl-7">toPublicKey</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-3">UInt64</span><span class="hl-0">.</span><span class="hl-7">fromNumber</span><span class="hl-0">(</span><span class="hl-9">100</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-3">UInt32</span><span class="hl-0">.</span><span class="hl-7">fromNumber</span><span class="hl-0">(</span><span class="hl-9">0</span><span class="hl-0">)</span><br/><span class="hl-0">);</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">newValue</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">Account</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">PrivateKey</span><span class="hl-0">.</span><span class="hl-7">random</span><span class="hl-0">().</span><span class="hl-7">toPublicKey</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-3">UInt64</span><span class="hl-0">.</span><span class="hl-7">fromNumber</span><span class="hl-0">(</span><span class="hl-9">50</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-3">UInt32</span><span class="hl-0">.</span><span class="hl-7">fromNumber</span><span class="hl-0">(</span><span class="hl-9">1</span><span class="hl-0">)</span><br/><span class="hl-0">);</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">root</span><span class="hl-0"> = </span><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">smt</span><span class="hl-0">.</span><span class="hl-7">update</span><span class="hl-0">(</span><span class="hl-3">testKey</span><span class="hl-0">, </span><span class="hl-3">testValue</span><span class="hl-0">);</span><br/><span class="hl-1">// Create a compacted merkle proof for a key against the current root.</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">cproof</span><span class="hl-0"> = </span><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">smt</span><span class="hl-0">.</span><span class="hl-7">proveCompact</span><span class="hl-0">(</span><span class="hl-3">testKey</span><span class="hl-0">);</span><br/><span class="hl-1">// Verify the compacted Merkle proof outside the circuit.</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">ok</span><span class="hl-0"> = </span><span class="hl-3">SMTUtils</span><span class="hl-0">.</span><span class="hl-7">verifyCompactProof</span><span class="hl-0">(</span><span class="hl-3">cproof</span><span class="hl-0">, </span><span class="hl-3">root</span><span class="hl-0">, </span><span class="hl-3">testKey</span><span class="hl-0">, </span><span class="hl-3">testValue</span><span class="hl-0">);</span><br/><span class="hl-3">console</span><span class="hl-0">.</span><span class="hl-7">log</span><span class="hl-0">(</span><span class="hl-4">&#39;ok: &#39;</span><span class="hl-0">, </span><span class="hl-3">ok</span><span class="hl-0">);</span><br/><br/><span class="hl-1">// Create a merkle proof for a key against the current root.</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">proof</span><span class="hl-0"> = </span><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">smt</span><span class="hl-0">.</span><span class="hl-7">prove</span><span class="hl-0">(</span><span class="hl-3">testKey</span><span class="hl-0">);</span><br/><br/><span class="hl-1">// Check membership in the circuit, isOk should be true.</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">isOk</span><span class="hl-0"> = </span><span class="hl-3">ProvableSMTUtils</span><span class="hl-0">.</span><span class="hl-7">checkMembership</span><span class="hl-0">(</span><span class="hl-3">proof</span><span class="hl-0">, </span><span class="hl-3">root</span><span class="hl-0">, </span><span class="hl-3">testKey</span><span class="hl-0">, </span><span class="hl-3">testValue</span><span class="hl-0">);</span><br/><br/><span class="hl-1">// Check Non-membership in the circuit, isOk should be false.</span><br/><span class="hl-3">isOk</span><span class="hl-0"> = </span><span class="hl-3">ProvableSMTUtils</span><span class="hl-0">.</span><span class="hl-7">checkNonMembership</span><span class="hl-0">(</span><span class="hl-3">proof</span><span class="hl-0">, </span><span class="hl-3">root</span><span class="hl-0">, </span><span class="hl-3">testKey</span><span class="hl-0">);</span><br/><br/><span class="hl-1">// Calculate new root in the circuit</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">newRoot</span><span class="hl-0"> = </span><span class="hl-3">ProvableSMTUtils</span><span class="hl-0">.</span><span class="hl-7">computeRoot</span><span class="hl-0">(</span><span class="hl-3">roof</span><span class="hl-0">.</span><span class="hl-3">sideNodes</span><span class="hl-0">, </span><span class="hl-3">testKey</span><span class="hl-0">, </span><span class="hl-3">newValue</span><span class="hl-0">);</span><br/><span class="hl-3">console</span><span class="hl-0">.</span><span class="hl-7">log</span><span class="hl-0">(</span><span class="hl-4">&#39;newRoot: &#39;</span><span class="hl-0">, </span><span class="hl-3">newRoot</span><span class="hl-0">.</span><span class="hl-7">toString</span><span class="hl-0">());</span>
</code></pre>

<a href="#use-compactsparsemerkletree" id="use-compactsparsemerkletree" style="color: inherit; text-decoration: none;">
  <h3>Use CompactSparseMerkleTree</h3>
</a>
<blockquote>
<p>CompactSparseMerkleTree is a merkle tree with a fixed height of 254, this merkel tree is equivalent to a data structure: Map&lt;CircuitValue,CircuitValue&gt;, CircuitValue can be a CircuitValue type in snarkyjs, such as Field, PublicKey, or a custom composite CircuitValue. Compared with SparseMerkleTree, its advantage is that it can save storage space, and the operation efficiency of the tree is relatively high, but it is currently impossible to calculate the new root after the state transformation in the circuit.</p>
</blockquote>
<p>CSMTUtils: A collection of compact sparse merkle tree utility methods that do not work in circuits.</p>
<p>ProvableSMTUtils: A collection of compact sparse merkle tree utility methods that can be verified to work in circuits</p>
<pre><code class="language-typescript"><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-6">Account</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-6">CircuitValue</span><span class="hl-0"> {</span><br/><span class="hl-0">  @</span><span class="hl-3">prop</span><span class="hl-0"> </span><span class="hl-3">address</span><span class="hl-0">: </span><span class="hl-6">PublicKey</span><span class="hl-0">;</span><br/><span class="hl-0">  @</span><span class="hl-3">prop</span><span class="hl-0"> </span><span class="hl-3">balance</span><span class="hl-0">: </span><span class="hl-6">UInt64</span><span class="hl-0">;</span><br/><span class="hl-0">  @</span><span class="hl-3">prop</span><span class="hl-0"> </span><span class="hl-3">nonce</span><span class="hl-0">: </span><span class="hl-6">UInt32</span><span class="hl-0">;</span><br/><br/><span class="hl-0">  </span><span class="hl-5">constructor</span><span class="hl-0">(</span><span class="hl-3">address</span><span class="hl-0">: </span><span class="hl-6">PublicKey</span><span class="hl-0">, </span><span class="hl-3">balance</span><span class="hl-0">: </span><span class="hl-6">UInt64</span><span class="hl-0">, </span><span class="hl-3">nonce</span><span class="hl-0">: </span><span class="hl-6">UInt32</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-5">super</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-3">address</span><span class="hl-0"> = </span><span class="hl-3">address</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-3">balance</span><span class="hl-0"> = </span><span class="hl-3">balance</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-3">nonce</span><span class="hl-0"> = </span><span class="hl-3">nonce</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-1">// Create a memory store</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">store</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">MemoryStore</span><span class="hl-0">&lt;</span><span class="hl-6">Account</span><span class="hl-0">&gt;();</span><br/><span class="hl-1">// Or create a level db store:</span><br/><span class="hl-1">// const levelDb = new Level&lt;string, any&gt;(&#39;./db&#39;);</span><br/><span class="hl-1">// let store = new LevelStore&lt;Account&gt;(levelDb, Account, &#39;test&#39;);</span><br/><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">smt</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">CompactSparseMerkleTree</span><span class="hl-0">(</span><span class="hl-3">store</span><span class="hl-0">);</span><br/><span class="hl-1">// Or import a tree by store</span><br/><span class="hl-1">// smt = await CompactSparseMerkleTree.import(store);</span><br/><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">testKey</span><span class="hl-0"> = </span><span class="hl-7">Field</span><span class="hl-0">(</span><span class="hl-9">1</span><span class="hl-0">);</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">testValue</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">Account</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">PrivateKey</span><span class="hl-0">.</span><span class="hl-7">random</span><span class="hl-0">().</span><span class="hl-7">toPublicKey</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-3">UInt64</span><span class="hl-0">.</span><span class="hl-7">fromNumber</span><span class="hl-0">(</span><span class="hl-9">100</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-3">UInt32</span><span class="hl-0">.</span><span class="hl-7">fromNumber</span><span class="hl-0">(</span><span class="hl-9">0</span><span class="hl-0">)</span><br/><span class="hl-0">);</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">newValue</span><span class="hl-0"> = </span><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-7">Account</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">PrivateKey</span><span class="hl-0">.</span><span class="hl-7">random</span><span class="hl-0">().</span><span class="hl-7">toPublicKey</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-3">UInt64</span><span class="hl-0">.</span><span class="hl-7">fromNumber</span><span class="hl-0">(</span><span class="hl-9">50</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-3">UInt32</span><span class="hl-0">.</span><span class="hl-7">fromNumber</span><span class="hl-0">(</span><span class="hl-9">1</span><span class="hl-0">)</span><br/><span class="hl-0">);</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">root</span><span class="hl-0"> = </span><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">smt</span><span class="hl-0">.</span><span class="hl-7">update</span><span class="hl-0">(</span><span class="hl-3">testKey</span><span class="hl-0">, </span><span class="hl-3">testValue</span><span class="hl-0">);</span><br/><br/><span class="hl-1">// Create a merkle proof for a key against the current root.</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-8">proof</span><span class="hl-0"> = </span><span class="hl-2">await</span><span class="hl-0"> </span><span class="hl-3">smt</span><span class="hl-0">.</span><span class="hl-7">prove</span><span class="hl-0">(</span><span class="hl-3">testKey</span><span class="hl-0">);</span><br/><br/><span class="hl-1">// Check membership in circuit, isOk should be true.</span><br/><span class="hl-5">let</span><span class="hl-0"> </span><span class="hl-3">isOk</span><span class="hl-0"> = </span><span class="hl-3">ProvableCSMTUtils</span><span class="hl-0">.</span><span class="hl-7">checkMembership</span><span class="hl-0">(</span><span class="hl-3">proof</span><span class="hl-0">, </span><span class="hl-3">root</span><span class="hl-0">, </span><span class="hl-3">testKey</span><span class="hl-0">, </span><span class="hl-3">testValue</span><span class="hl-0">);</span><br/><br/><span class="hl-1">// Check Non-membership in circuit, isOk should be false.</span><br/><span class="hl-3">isOk</span><span class="hl-0"> = </span><span class="hl-3">ProvableCSMTUtils</span><span class="hl-0">.</span><span class="hl-7">checkNonMembership</span><span class="hl-0">(</span><span class="hl-3">proof</span><span class="hl-0">, </span><span class="hl-3">root</span><span class="hl-0">, </span><span class="hl-3">testKey</span><span class="hl-0">);</span>
</code></pre>

<a href="#api-reference" id="api-reference" style="color: inherit; text-decoration: none;">
  <h2>API Reference</h2>
</a>
<ul>
<li><a href="https://comdex.github.io/snarky-smt/">API Document</a></li>
</ul>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/BaseMerkleProof.html" class="tsd-kind-icon">Base<wbr/>Merkle<wbr/>Proof</a></li><li class="tsd-kind-class"><a href="classes/CSMTUtils.html" class="tsd-kind-icon">CSMTUtils</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/CompactDeepSparseMerkleSubTree.html" class="tsd-kind-icon">Compact<wbr/>Deep<wbr/>Sparse<wbr/>Merkle<wbr/>Sub<wbr/>Tree</a></li><li class="tsd-kind-class"><a href="classes/CompactSparseMerkleProof.html" class="tsd-kind-icon">Compact<wbr/>Sparse<wbr/>Merkle<wbr/>Proof</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/CompactSparseMerkleTree.html" class="tsd-kind-icon">Compact<wbr/>Sparse<wbr/>Merkle<wbr/>Tree</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/DeepMerkleSubTree.html" class="tsd-kind-icon">Deep<wbr/>Merkle<wbr/>Sub<wbr/>Tree</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/DeepSparseMerkleSubTree.html" class="tsd-kind-icon">Deep<wbr/>Sparse<wbr/>Merkle<wbr/>Sub<wbr/>Tree</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/LevelStore.html" class="tsd-kind-icon">Level<wbr/>Store</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/MemoryStore.html" class="tsd-kind-icon">Memory<wbr/>Store</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/MerkleTree.html" class="tsd-kind-icon">Merkle<wbr/>Tree</a></li><li class="tsd-kind-class"><a href="classes/MerkleTreeUtils.html" class="tsd-kind-icon">Merkle<wbr/>Tree<wbr/>Utils</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/MongoStore.html" class="tsd-kind-icon">Mongo<wbr/>Store</a></li><li class="tsd-kind-class"><a href="classes/ProvableCSMTUtils.html" class="tsd-kind-icon">ProvableCSMTUtils</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/ProvableDeepMerkleSubTree.html" class="tsd-kind-icon">Provable<wbr/>Deep<wbr/>Merkle<wbr/>Sub<wbr/>Tree</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/ProvableDeepSparseMerkleSubTree.html" class="tsd-kind-icon">Provable<wbr/>Deep<wbr/>Sparse<wbr/>Merkle<wbr/>Sub<wbr/>Tree</a></li><li class="tsd-kind-class"><a href="classes/ProvableSMTUtils.html" class="tsd-kind-icon">ProvableSMTUtils</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/RocksStore.html" class="tsd-kind-icon">Rocks<wbr/>Store</a></li><li class="tsd-kind-class"><a href="classes/SMTUtils.html" class="tsd-kind-icon">SMTUtils</a></li><li class="tsd-kind-class"><a href="classes/SparseMerkleProof.html" class="tsd-kind-icon">Sparse<wbr/>Merkle<wbr/>Proof</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/SparseMerkleTree.html" class="tsd-kind-icon">Sparse<wbr/>Merkle<wbr/>Tree</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/TreeHasher.html" class="tsd-kind-icon">Tree<wbr/>Hasher</a></li><li class="tsd-kind-interface"><a href="interfaces/CSparseCompactMerkleProof.html" class="tsd-kind-icon">CSparse<wbr/>Compact<wbr/>Merkle<wbr/>Proof</a></li><li class="tsd-kind-interface"><a href="interfaces/CompactMerkleProof.html" class="tsd-kind-icon">Compact<wbr/>Merkle<wbr/>Proof</a></li><li class="tsd-kind-interface"><a href="interfaces/CompactMerkleProofJSON.html" class="tsd-kind-icon">Compact<wbr/>Merkle<wbr/>ProofJSON</a></li><li class="tsd-kind-interface"><a href="interfaces/SparseCompactMerkleProof.html" class="tsd-kind-icon">Sparse<wbr/>Compact<wbr/>Merkle<wbr/>Proof</a></li><li class="tsd-kind-interface"><a href="interfaces/SparseCompactMerkleProofJSON.html" class="tsd-kind-icon">Sparse<wbr/>Compact<wbr/>Merkle<wbr/>ProofJSON</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/Store.html" class="tsd-kind-icon">Store</a></li><li class="tsd-kind-type-alias"><a href="modules.html#FieldElements" class="tsd-kind-icon">Field<wbr/>Elements</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Hasher" class="tsd-kind-icon">Hasher</a></li><li class="tsd-kind-function"><a href="modules.html#countCommonPrefix" class="tsd-kind-icon">count<wbr/>Common<wbr/>Prefix</a></li><li class="tsd-kind-function"><a href="modules.html#countSetBits" class="tsd-kind-icon">count<wbr/>Set<wbr/>Bits</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#createEmptyValue" class="tsd-kind-icon">create<wbr/>Empty<wbr/>Value</a></li><li class="tsd-kind-function"><a href="modules.html#defaultNodes" class="tsd-kind-icon">default<wbr/>Nodes</a></li><li class="tsd-kind-function"><a href="modules.html#fieldToHexString" class="tsd-kind-icon">field<wbr/>To<wbr/>Hex<wbr/>String</a></li><li class="tsd-kind-function"><a href="modules.html#hexStringToField" class="tsd-kind-icon">hex<wbr/>String<wbr/>To<wbr/>Field</a></li><li class="tsd-kind-function"><a href="modules.html#printBits" class="tsd-kind-icon">print<wbr/>Bits</a></li><li class="tsd-kind-function"><a href="modules.html#strToFieldArry" class="tsd-kind-icon">str<wbr/>To<wbr/>Field<wbr/>Arry</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>